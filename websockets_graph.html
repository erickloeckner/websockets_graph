<!DOCTYPE html>
<html>
    <head>
        <title>WebSocket demo</title>
    </head>
    <body bgcolor="#101010">
        
        <svg
        id="svg8"
        version="1.1"
        viewBox="0 0 1280 720"
        height="720"
        width="1280">
        
        <linearGradient
        id="bg_gradient_stops">
            <stop
            id="bg_g_stop1"
            offset="0"
            style="stop-color:#000000;stop-opacity:1" />
            <stop
            id="bg_g_stop2"
            offset="0.5"
            style="stop-color:#151007;stop-opacity:1" />
            <stop
            id="bg_g_stop2"
            offset="1"
            style="stop-color:#000000;stop-opacity:1" />
        </linearGradient>
        <linearGradient
            gradientUnits="userSpaceOnUse"
            x1="0"
            y1="720"
            x2="0"
            y2="0"
            id="bg_gradient"
            xlink:href="#bg_gradient_stops" />
        
        <linearGradient
        id="green_gradient_stops">
            <stop
            id="green_g_stop1"
            offset="0"
            style="stop-color:#009000;stop-opacity:1" />
            <stop
            id="green_g_stop2"
            offset="1"
            style="stop-color:#00ff00;stop-opacity:1" />
        </linearGradient>
        <linearGradient
            gradientUnits="userSpaceOnUse"
            x1="0"
            y1="720"
            x2="1280"
            y2="720"
            id="green_gradient"
            xlink:href="#green_gradient_stops" />
            
        <linearGradient
        id="grid_gradient_stops">
            <stop
            id="grid_g_stop1"
            offset="0"
            style="stop-color:#202020;stop-opacity:1" />
            <stop
            id="grid_g_stop2"
            offset="0.5"
            style="stop-color:#404040;stop-opacity:1" />
            <stop
            id="grid_g_stop3"
            offset="1"
            style="stop-color:#202020;stop-opacity:1" />
        </linearGradient>
        <linearGradient
            gradientUnits="userSpaceOnUse"
            x1="0"
            y1="720"
            x2="1280"
            y2="720"
            id="grid_gradient"
            xlink:href="#grid_gradient_stops" />
            
        <filter id="blur_filter" width="300%" height="300%" y="-100%">
            <feGaussianBlur in="SourceGraphic" stdDeviation="10"/>
        </filter>
        
        <rect
        ry="5"
        y="10"
        x="10"
        height="700"
        width="1260"
        id="bg_rect"
        style="fill:url(#bg_gradient);fill-opacity:1;stroke:none" />
        
            <g id="grid_x">
                <polyline points="  10,10   10,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 136,10  136,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 262,10  262,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 388,10  388,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 514,10  514,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 640,10  640,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 766,10  766,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points=" 892,10  892,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="1018,10 1018,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="1144,10 1144,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="1270,10 1270,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
            </g>
            <g id="grid_y">
                <polyline points="10,10  1270,10 " fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="10,185 1270,185" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="10,360 1270,360" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="10,535 1270,535" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
                <polyline points="10,710 1270,710" fill="none" stroke="url(#grid_gradient)" stroke-width="2" />
            </g>
        
        <use href="#poly" filter="url(#blur_filter)" />
        <polyline id="poly" points="" fill="none" stroke="url(#green_gradient)" stroke-width="4" />
        
        </svg>
        <script>
            var ws = new WebSocket("ws://127.0.0.1:5678/");
            ws.onmessage = function (event) {
                var poly = document.getElementById('poly');
                poly.setAttribute("points", JSON.parse(event.data));
            };
        </script>
    </body>
</html>
